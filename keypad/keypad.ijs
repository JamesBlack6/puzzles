NB. Paths of length 1000000 starting at 1

NB. Matrix multiplication

mp=: +/ .*

NB. Efficient matrix exponentiation

pow=: pow1=: 4 : 'mp/ mp~^:(I.|.#:y) x'

NB. x for extended (arbitrary) precision

]Q =: 6 6 $ 0x 0x 1x 0x 2x 0x 0x 0x 0x 1x 0x 0x 1x 0x 0x 1x 0x 2x 0x 2x 1x 0x 0x 0x 1x 0x 0x 0x 0x 0x 0x 0x 1x 0x 0x 0x
]r =: 6 1 $ 1x 0x 0x 0x 0x 0x

+/ (Q pow 1000000) mp r
